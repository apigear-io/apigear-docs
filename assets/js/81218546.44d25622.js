"use strict";(self.webpackChunkapigear=self.webpackChunkapigear||[]).push([[7774],{3773:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var l=t(4848),i=t(8453);const a={sidebar_position:2},o="Quick-Start",s={id:"quickstart/index",title:"Quick-Start",description:"The Quick-Start guide explains how in a few steps you get from an API definition to a functional c++ example.",source:"@site/template-docs/template-cpp14/docs/docs/quickstart/index.md",sourceDirName:"quickstart",slug:"/quickstart/",permalink:"/template-cpp14/docs/quickstart/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Template C++ 14",permalink:"/template-cpp14/docs/intro"},next:{title:"Features",permalink:"/template-cpp14/docs/features/"}},r={},d=[{value:"1. Install the code generator",id:"1-install-the-code-generator",level:2},{value:"2. Get the template",id:"2-get-the-template",level:2},{value:"Installation via CLI",id:"installation-via-cli",level:3},{value:"Installation via Studio",id:"installation-via-studio",level:3},{value:"Clone from github",id:"clone-from-github",level:3},{value:"3. Set up project",id:"3-set-up-project",level:2},{value:"Solution file",id:"solution-file",level:3},{value:"API module file",id:"api-module-file",level:3},{value:"4. Generate code",id:"4-generate-code",level:2},{value:"Generate via CLI",id:"generate-via-cli",level:3},{value:"Generate via Studio",id:"generate-via-studio",level:3},{value:"5. Use the generated cpp project.",id:"5-use-the-generated-cpp-project",level:2},{value:"Create and run an example",id:"create-and-run-an-example",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"quick-start",children:"Quick-Start"})}),"\n",(0,l.jsx)(n.p,{children:"The Quick-Start guide explains how in a few steps you get from an API definition to a functional c++ example."}),"\n",(0,l.jsxs)(n.p,{children:["Steps one and two are universal for other technologies. In the step two you will choose a concrete ",(0,l.jsx)(n.em,{children:"cpp14"})," template.\nFor more general information about first steps with ApiGear ",(0,l.jsx)(n.a,{href:"/docs/start/first_steps",children:"First Steps"})]}),"\n",(0,l.jsxs)(n.p,{children:["The quick start enables only basic features: the ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/api",children:"api"})," generation and simple ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/stubs",children:"stub"})," implementation.\nFor all available features check the ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/",children:"overview"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"1-install-the-code-generator",children:"1. Install the code generator"}),"\n",(0,l.jsxs)(n.p,{children:["Get the ",(0,l.jsx)(n.a,{href:"https://github.com/apigear-io/studio/releases",children:"ApiGear Studio"})," or ",(0,l.jsx)(n.a,{href:"https://github.com/apigear-io/cli/releases",children:"ApiGear CLI"}),". For more information check the ",(0,l.jsx)(n.a,{href:"/docs/start/install",children:"ApiGear documentation"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"2-get-the-template",children:"2. Get the template"}),"\n",(0,l.jsxs)(n.p,{children:["There are several options to get the template. Installation via the ",(0,l.jsx)(n.em,{children:"Studio"})," or the ",(0,l.jsx)(n.em,{children:"CLI"}),". Alternatively it is possible to clone or download from github."]}),"\n",(0,l.jsx)(n.h3,{id:"installation-via-cli",children:"Installation via CLI"}),"\n",(0,l.jsxs)(n.p,{children:["When using the ",(0,l.jsx)(n.em,{children:"CLI"})," only the highlighted line is imported. You can always check whether the installation was successful via the ",(0,l.jsx)(n.code,{children:"template list"})," command."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"$ apigear template list\nlist of templates from registry and cache\nname                       | installed | registry | url\napigear-io/template-cpp14 | false     | true     | https://github.com/apigear-io/template-cpp14.git\n...\n# highlight-next-line\n$ apigear template install apigear-io/template-cpp14\n$ apigear template list\nlist of templates from registry and cache\nname                       | installed | registry | url\napigear-io/template-cpp14 | true      | true     | https://github.com/apigear-io/template-cpp14.git\n...\n"})}),"\n",(0,l.jsx)(n.h3,{id:"installation-via-studio",children:"Installation via Studio"}),"\n",(0,l.jsx)(n.p,{children:"From within the studio the installation is really simple."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open an existing project or create an new one"}),"\n",(0,l.jsxs)(n.li,{children:["Go to the ",(0,l.jsx)(n.code,{children:"Templates"})," tab"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.code,{children:"Install"})," on the ",(0,l.jsx)(n.code,{children:"apigear-io/template-cpp14"})," entry"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"clone-from-github",children:"Clone from github"}),"\n",(0,l.jsx)(n.p,{children:"In case you want to check or modify the source code of the template, it is easier to clone or download the repository. The repository does not need to be part of the project, but can be stored anywhere on the computer."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"$ git clone https://github.com/apigear-io/template-cpp14.git\n"})}),"\n",(0,l.jsx)(n.p,{children:"You can then point the solution file to use your template from its directory by providing relative path from the solution file."}),"\n",(0,l.jsx)(n.h2,{id:"3-set-up-project",children:"3. Set up project"}),"\n",(0,l.jsxs)(n.p,{children:["For a project we usually need two files. The solution which specifies what ",(0,l.jsx)(n.code,{children:"APIs"})," and which template to use for it. And at least one ",(0,l.jsx)(n.code,{children:"API"})," module file.\nBoth should ideally be in a folder called ",(0,l.jsx)(n.code,{children:"apigear"})," next to each other."]}),"\n",(0,l.jsxs)(n.p,{children:["Alternatively, you can also use the ",(0,l.jsx)(n.em,{children:"Studio"})," to create a new project and modify the two example files."]}),"\n",(0,l.jsx)(n.h3,{id:"solution-file",children:"Solution file"}),"\n",(0,l.jsxs)(n.p,{children:["Create a ",(0,l.jsx)(n.a,{href:"/docs/start/first_steps#create-a-solution",children:"solution"})," file.\nThe example below specifies"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["module files in ",(0,l.jsx)(n.em,{children:"line 8"}),", here the ",(0,l.jsx)(n.code,{children:"helloworld.module.yaml"})," module with ",(0,l.jsx)(n.code,{children:"Hello"})," API"]}),"\n",(0,l.jsxs)(n.li,{children:["the output directory for generated files in ",(0,l.jsx)(n.em,{children:"line 9"})]}),"\n",(0,l.jsxs)(n.li,{children:["a template used to generate the code in ",(0,l.jsx)(n.em,{children:"line 10"}),", here the ",(0,l.jsx)(n.code,{children:"apigear-ui/template-cpp14"})," template. This can also be a path to a local copy of the template."]}),"\n",(0,l.jsxs)(n.li,{children:["the enabled features of the template in ",(0,l.jsx)(n.em,{children:"line 13"}),", here the ",(0,l.jsx)(n.code,{children:"stubs"})," feature, a simple implementation of interfaces. For all available features check the ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/",children:"overview"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="helloworld.solution.yaml" showLineNumbers',children:'schema: "apigear.solution/1.0"\nname: hello_world_example\nversion: "0.1.0"\n\ntargets:\n  - name: cpp_hello_world\n    inputs:\n      - helloworld.module.yaml\n    output: ../cpp_hello_world\n    template: apigear-io/template-cpp14\n    force: true\n    features:\n      - stubs\n'})}),"\n",(0,l.jsx)(n.admonition,{title:"Targets",type:"tip",children:(0,l.jsxs)(n.p,{children:["You can extend this solution file with other targets, each for the different technology with different template. The ",(0,l.jsx)(n.code,{children:"module.yaml"})," is technology independent and may be used for any template."]})}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsx)(n.p,{children:"Set the force parameter to true if you want to always override all the generated files. With option set to false some files, like implementation (stub feature) won't be updated. All the API files are always updated."})}),"\n",(0,l.jsx)(n.h3,{id:"api-module-file",children:"API module file"}),"\n",(0,l.jsxs)(n.p,{children:["Use your favorite text editor to create the ",(0,l.jsx)(n.code,{children:"helloworld.module.yaml"})," with the example content:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="helloworld.module.yaml" showLineNumbers',children:'schema: apigear.module/1.0\nname: io.world\nversion: "1.0.0"\n\ninterfaces:\n  - name: Hello\n    properties:\n      - { name: last, type: Message }\n    operations:\n      - name: say\n        params:\n          - { name: msg, type: Message }\n          - { name: when, type: When }\n        return:\n          type: int\n    signals:\n      - name: justSaid\n        params:\n          - { name: msg, type: Message }\nenums:\n  - name: When\n    members:\n      - { name: Now, value: 0 }\n      - { name: Soon, value: 1 }\n      - { name: Never, value: 2 }\nstructs:\n  - name: Message\n    fields:\n      - { name: content, type: string }\n'})}),"\n",(0,l.jsx)(n.h2,{id:"4-generate-code",children:"4. Generate code"}),"\n",(0,l.jsxs)(n.p,{children:["With the output directory set as in example, both ",(0,l.jsx)(n.em,{children:"ApiGear"})," files reside in an ",(0,l.jsx)(n.code,{children:"apigear"})," subfolder next to the ",(0,l.jsx)(n.em,{children:"cpp"})," generated files.\nIn this case the folder structure should look similar to this"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"\ud83d\udcc2hello-world\n \u2523 \ud83d\udcc2apigear\n \u2503 \u2523 \ud83d\udcdchelloworld.solution.yaml\n \u2503 \u2517 \ud83d\udcdchelloworld.module.yaml\n \u2523 \ud83d\udcc2cpp_hello_world\n # highlight-next-line\n \u2503 \u2523 \ud83d\udcc2modules\n \u2503 \u2503 \u2517 \ud83d\udcc2io_world\n \u2503 \u2503 \u2503 \u2523 \ud83d\udcc2generated\n \u2503 \u2503 \u2503 \u2523 \ud83d\udcc2implementation\n \u2503 \u2503 \u2503 \u2503 \u2523 \ud83d\udcdcCMakeLists.txt\n \u2503 \u2503 \u2503 \u2503 \u2523 \ud83d\udcdchello.cpp\n \u2503 \u2503 \u2503 \u2503 \u2523 \ud83d\udcdchello.h\n \u2503 \u2503 \u2503 \u2503 \u2517 \ud83d\udcdchello.test.cpp\n \u2503 \u2517 \ud83d\udcdcCMakeLists.txt\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Using the solution file from the previous paragraph the code will be generated in the ",(0,l.jsx)(n.code,{children:"cpp_hello_world"})," folder.\nWith subfolder for each module, here ",(0,l.jsx)(n.code,{children:"io_world"})," as the name of module (defined in line 2 of ",(0,l.jsx)(n.code,{children:"helloworld.module.yaml"}),").\nIt contains both features generated: a basic api and a stub implementation."]}),"\n",(0,l.jsx)(n.h3,{id:"generate-via-cli",children:"Generate via CLI"}),"\n",(0,l.jsx)(n.p,{children:"The following snippet shows how the CLI can be run."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"$ apigear generate solution apigear/helloworld.solution.yaml\n10:52:20 INF generated 21 files in 30ms. (20 write, 0 skip, 1 copy) topic=gen\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"generate"})," tells the CLI that it should generate code"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"solution"})," specifies that we want to run a solution file"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"generate-via-studio",children:"Generate via Studio"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open the project"}),"\n",(0,l.jsxs)(n.li,{children:["Go to the ",(0,l.jsx)(n.code,{children:"Solutions"})," tab"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.code,{children:"Run"})," on the ",(0,l.jsx)(n.code,{children:"helloworld.solution.yaml"})," entry"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"5-use-the-generated-cpp-project",children:"5. Use the generated cpp project."}),"\n",(0,l.jsxs)(n.p,{children:["The generated code provides cpp ",(0,l.jsx)(n.em,{children:"C++"})," implementations. The following paragraphs show how you can use it.\nYou can start your project loading the top level CMakeLists.txt in ",(0,l.jsx)(n.code,{children:"cpp_hello_world"})," folder."]}),"\n",(0,l.jsxs)(n.p,{children:["The 'io_world/io_world/generated/api/' folder contains all definitions of the enums and structs for your module, as well as the interface classes for your Interfaces.\nFrom now on you can simply include the header files for the api interface or the stub implementation and use it.\nFor more details on generated features please check ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/api",children:"api"}),", ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/stubs",children:"stubs"}),"."]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:'Check our "examples" with all features enabled to get more working examples.'})}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:["For the simulation check ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/olink",children:"the olink feature"})," which provides middle layer on your code side and the ",(0,l.jsx)(n.a,{href:"/docs/advanced/simulation/intro",children:"simulation"})," explained."]})}),"\n",(0,l.jsx)(n.h3,{id:"create-and-run-an-example",children:"Create and run an example"}),"\n",(0,l.jsxs)(n.p,{children:["Prepare an ",(0,l.jsx)(n.code,{children:"examples"})," folder in the ",(0,l.jsx)(n.code,{children:"hello-world/cpp_hello_world"})," directory with a ",(0,l.jsx)(n.code,{children:"main.cpp"})," like this:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'#include "io_world/implementation/hello.h"\n#include <iostream>\n\nint main(){\n    HelloWorldExample::IoWorld::Hello myHelloInstance;\n\n    // Try out properties: subscribe for changes\n    myHelloInstance._getPublisher().subscribeToLastChanged(\n        [](const HelloWorldExample::IoWorld::Message& last) { std::cout << "last property changed "; });\n    // and ask for change.\n    HelloWorldExample::IoWorld::Message messageForProperty;\n    messageForProperty.m_content "New message";\n    myHelloInstance.setLast(messageForProperty);\n\n    // Check the signals with subscribing for its change\n    myHelloInstance._getPublisher().subscribeToJustSaid(\n        [](const HelloWorldExample::IoWorld::Message& msg) { qDebug() << "justSaid signal emitted "; });\n    // and emit one.\n    HelloWorldExample::IoWorld::Message messageForSignal;\n    messageForSignal.m_content "Message from signal";\n    emit myHelloInstance.justSaid(messageForSignal);\n\n    // Play around executing operations, maybe they emit signals? or change the properties?\n    auto method_result = myHelloInstance.say(HelloWorldExample::IoWorld::Message(), HelloWorldExample::IoWorld::When::Now);\n\n    return 0;\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["add a ",(0,l.jsx)(n.code,{children:"CMakeLists.txt"})," to the ",(0,l.jsx)(n.code,{children:"examples"})," folder:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cmake_minimum_required(VERSION 3.1)\nproject(MyExample)\n\n# append local binary directory for conan packages to be found\nlist(APPEND CMAKE_MODULE_PATH ${CMAKE_BINARY_DIR})\n\nset(CMAKE_CXX_STANDARD 14)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\nadd_executable(MyExample main.cpp)\n\n# ensure maximum compiler support\nif(NOT MSVC)\n  target_compile_options(app PRIVATE -Wall -Wextra -Wpedantic -Werror -fvisibility=hidden)\nelse()\n  target_compile_options(app PRIVATE /W4 /WX /wd4251)\nendif()\n\nfind_package(io_world QUIET COMPONENTS io_world-core io_world-implementation )\ntarget_link_libraries(app\n    io_world::io_world-core\n    io_world::io_world-implementation\n\n)\n\ninstall(TARGETS app\n        RUNTIME DESTINATION bin COMPONENT Runtime)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Add the ",(0,l.jsx)(n.code,{children:"examples"})," subdirectory to the ",(0,l.jsx)(n.code,{children:"hello-world/cpp_hello_world/CMakeLists.txt"}),". Now you can build the application and the libraries with it and run your example."]}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsxs)(n.p,{children:["If generating all features, you'll need Poco library (websockets library used by OLink feature) or Paho (Mqtt library used by mqtt feature)'.\nYou then may want to use ",(0,l.jsx)(n.a,{href:"/template-cpp14/docs/features/conan",children:"conan"})," feature, which will get all necessary dependencies."]}),(0,l.jsxs)(n.p,{children:["Otherwise you might want to add\n",(0,l.jsx)(n.code,{children:'set(CMAKE_MODULE_PATH "path/to/your/poco_or_paho_build")'})," to your ",(0,l.jsx)(n.code,{children:"CMakeLists"})," or use option ",(0,l.jsx)(n.code,{children:"-DCMAKE_PREFIX_PATH=$GITHUB_WORKSPACE/path/to/poco_or_paho_build"})," .\nYou might want also use conan for first time - to get you all those dependencies and then use paths provided by conan."]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var l=t(6540);const i={},a=l.createContext(i);function o(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);