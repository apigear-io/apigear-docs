"use strict";(self.webpackChunkapigear=self.webpackChunkapigear||[]).push([[4136],{5656:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=n(4848),t=n(8453);const a={sidebar_position:3},s="API Simulation",r={id:"tools/cli/simulate",title:"API Simulation",description:"API Simulation is a feature that allows you to simulate the behavior of an API. This is useful for testing, demonstration, and development. It decouples the interface implementation from the interface users. The simulation is based on olink protocol, you need your application to use Object Link version of implementation to be able to receive the simulation data. Check your templates for olink feature for more information.",source:"@site/docs/tools/cli/simulate.md",sourceDirName:"tools/cli",slug:"/tools/cli/simulate",permalink:"/docs/tools/cli/simulate",draft:!1,unlisted:!1,editUrl:"https://github.com/apigear-io/apigear-docs/edit/main/docs/tools/cli/simulate.md",tags:[],version:"current",lastUpdatedAt:1728043886e3,sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"SDK Templates",permalink:"/docs/tools/cli/template"},next:{title:"API Monitoring",permalink:"/docs/tools/cli/monitor"}},l={},c=[{value:"Quick API Simulation",id:"quick-api-simulation",level:2}];function d(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"api-simulation",children:"API Simulation"})}),"\n",(0,i.jsxs)(o.p,{children:["API Simulation is a feature that allows you to simulate the behavior of an API. This is useful for testing, demonstration, and development. It decouples the interface implementation from the interface users. The simulation is based on ",(0,i.jsx)(o.a,{href:"/docs/advanced/protocols/objectlink/intro",children:"olink protocol"}),", you need your application to use Object Link version of implementation to be able to receive the simulation data. Check your templates for ",(0,i.jsx)(o.code,{children:"olink"})," feature for more information.\nSee ",(0,i.jsx)(o.a,{href:"/docs/advanced/simulation/intro",children:"simulation documentation"})," for more info."]}),"\n",(0,i.jsx)(o.admonition,{title:"Beta",type:"note",children:(0,i.jsxs)(o.p,{children:["The ",(0,i.jsx)(o.strong,{children:"simulation"})," server is in beta and will gain new and improved functionality soon."]})}),"\n",(0,i.jsx)(o.h2,{id:"quick-api-simulation",children:"Quick API Simulation"}),"\n",(0,i.jsxs)(o.p,{children:["API Simulation is a feature of the ApiGear platform. It allows to simulate the behavior of an API. The ",(0,i.jsx)(o.code,{children:"apigear"})," command line tool can be used to simulate an API. The following example shows how to simulate the demo API."]}),"\n",(0,i.jsxs)(o.p,{children:["API simulation is based on a simulation scenario. The following example shows how to create a simulation scenario for the ",(0,i.jsx)(o.a,{href:"generate",children:"demo API"})," used for code generation example."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-yaml",children:'# demo.scenario.yaml\nschema: apigear.scenario/1.0\nname: "demo scenario"\nversion: "1.0"\ninterfaces:\n  - name: demo.Counter\n    properties:\n      count: 0\n    operations:\n      - name: increment\n        actions:\n          - $set: { count: 1 }\n      - name: decrement\n        actions:\n          - $set: { count: 0 }\n'})}),"\n",(0,i.jsxs)(o.p,{children:["Now we can run the simulation server using the following command. This scenario does not include sequences. It simulates the operations on interface and provides initial state for properties. For steps simulation see ",(0,i.jsx)(o.a,{href:"/docs/advanced/simulation/scenario",children:"scenario documentation"}),"."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:"apigear simulate run demo.scenario.yaml\n"})}),"\n",(0,i.jsxs)(o.p,{children:["It will load the simulation scenario from the ",(0,i.jsx)(o.code,{children:"demo.scenario.yaml"}),' file. The simulation server will listen for API calls. The simulation server by default is "127.0.0.1:4333". To change the address use the ',(0,i.jsx)(o.code,{children:"--addr"})," option. ",(0,i.jsx)("br",{}),"\nThe example simulates a server side and normally the API calls will come from a running API client."]})]})}function m(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>r});var i=n(6540);const t={},a=i.createContext(t);function s(e){const o=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(a.Provider,{value:o},e.children)}}}]);