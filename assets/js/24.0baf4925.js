(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{296:function(e,t,o){"use strict";o.r(t);var v=o(10),a=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"protocol"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#protocol"}},[e._v("#")]),e._v(" Protocol")]),e._v(" "),o("p",[e._v("ObjectLink is a protocol to link a remote object to a local object using a websocket based IPC.")]),e._v(" "),o("p",[e._v("The communication protocol allows objects to communicate with each other. A object is a collection of properties, methods and signals and are described using the ApiGear ObjectAPI.")]),e._v(" "),o("p",[e._v("In general a local object will communicate with a remote object and properties will be synced, methods can be called and remote signals can be received.")]),e._v(" "),o("p",[e._v("The main use case is to extend the local objects with remote capabilities on differtent platforms across different technologies.")]),e._v(" "),o("h2",{attrs:{id:"json-notation"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#json-notation"}},[e._v("#")]),e._v(" JSON Notation")]),e._v(" "),o("p",[e._v("Throughout the protocol description, the JSON notation is used. All data types must be valid JSON data types.")]),e._v(" "),o("p",[e._v("For transport binary protocols are supported, see list below:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://www.json.org/json-en.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://msgpack.org/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("MsgPack"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://cbor.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CBOR"),o("OutboundLink")],1)])]),e._v(" "),o("p",[e._v("The client and server needs to know their transport and encoding in advance. There is no negotiation in place to keepe the protocol simple.")]),e._v(" "),o("h2",{attrs:{id:"message-types"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#message-types"}},[e._v("#")]),e._v(" Message Types")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"lifecycle"}},[e._v("Lifecycle")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("--\x3e LINK")]),e._v(" - link the local object with a remote object")]),e._v(" "),o("li",[o("code",[e._v("<-- INIT")]),e._v(" - initialized the local object with properties from the remote object")]),e._v(" "),o("li",[o("code",[e._v("--\x3e UNLINK")]),e._v(" - unlinks a local object from a remote object")])])]),e._v(" "),o("li",[o("a",{attrs:{href:"properties"}},[e._v("Properties")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("--\x3e SET_PROPERTY")]),e._v("  - send a property change to a remote object")]),e._v(" "),o("li",[o("code",[e._v("<-- PROPERTY_CHANGE")]),e._v(" - sends property changes to all linked client objects")])])]),e._v(" "),o("li",[o("a",{attrs:{href:"methods"}},[e._v("Methods")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("--\x3e INVOKE")]),e._v(" - invoke a method on a remote object")]),e._v(" "),o("li",[o("code",[e._v("<-- INVOKE_REPLY")]),e._v(" - reply of an remote invokation")])])]),e._v(" "),o("li",[o("a",{attrs:{href:"signals"}},[e._v("Signals")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("<-- SIGNAL")]),e._v(" - send remote events back to all linked client objects")])])])]),e._v(" "),o("h2",{attrs:{id:"message-formats"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#message-formats"}},[e._v("#")]),e._v(" Message Formats")]),e._v(" "),o("table",[o("thead",[o("tr",[o("th",[e._v("Direction")]),e._v(" "),o("th",[e._v("Message")]),e._v(" "),o("th",[e._v("Value")]),e._v(" "),o("th",[e._v("Format")])])]),e._v(" "),o("tbody",[o("tr",[o("td",[o("code",[e._v("->")])]),e._v(" "),o("td",[o("code",[e._v("LINK")])]),e._v(" "),o("td",[e._v("10")]),e._v(" "),o("td",[e._v("[ MsgType, ObjectId ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("<-")])]),e._v(" "),o("td",[o("code",[e._v("INIT")])]),e._v(" "),o("td",[e._v("11")]),e._v(" "),o("td",[e._v("[ MsgType, ObjectId, Dict ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("->")])]),e._v(" "),o("td",[o("code",[e._v("UNLINK")])]),e._v(" "),o("td",[e._v("12")]),e._v(" "),o("td",[e._v("[ MsgType, ObjectId ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("->")])]),e._v(" "),o("td",[o("code",[e._v("SET_PROPERTY")])]),e._v(" "),o("td",[e._v("20")]),e._v(" "),o("td",[e._v("[ MsgType, PropertyId, Value ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("<-")])]),e._v(" "),o("td",[o("code",[e._v("PROPERTY_CHANGE")])]),e._v(" "),o("td",[e._v("21")]),e._v(" "),o("td",[e._v("[ MsgType, ObjectId, Value ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("->")])]),e._v(" "),o("td",[o("code",[e._v("INVOKE")])]),e._v(" "),o("td",[e._v("30")]),e._v(" "),o("td",[e._v("[ MsgType, RequestID, MethodId, Args ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("<-")])]),e._v(" "),o("td",[o("code",[e._v("INVOKE_REPLY")])]),e._v(" "),o("td",[e._v("31")]),e._v(" "),o("td",[e._v("[ MsgType, RequestID, Value ]")])]),e._v(" "),o("tr",[o("td",[o("code",[e._v("<-")])]),e._v(" "),o("td",[o("code",[e._v("SIGNAL")])]),e._v(" "),o("td",[e._v("40")]),e._v(" "),o("td",[e._v("[ MsgType, SignalId, Args ]")])])])]),e._v(" "),o("ul",[o("li",[o("code",[e._v("MsgType")]),e._v(": integer value of message type")]),e._v(" "),o("li",[o("code",[e._v("ObjectId")]),e._v(": a string identifying the resource as module and object name (e.g. "),o("code",[e._v('"demo.Calc"')]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("Dict")]),e._v(": A JSON dictionary, e.g. "),o("code",[e._v('{ "count": 0}')])]),e._v(" "),o("li",[o("code",[e._v("Args")]),e._v(": A JSON array, e.g. "),o("code",[e._v("[ 1, 2 ]")])]),e._v(" "),o("li",[o("code",[e._v("PropertyId")]),e._v(": A ObjectID with a property path (e.g. "),o("code",[e._v('"demo.Calc/count"')]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("Value")]),e._v(": Any valid JSON value including JSON arrays or objects")]),e._v(" "),o("li",[o("code",[e._v("MethodId")]),e._v(": A ObjectID with a method path (e.g. "),o("code",[e._v('"demo.Calc/increment"')]),e._v(")")]),e._v(" "),o("li",[o("code",[e._v("RequestId")]),e._v(": A unique integer value identifying the request during the connection. Typically a value incremented by one on each request and starting by 1 and then reset to 1 by max value.")]),e._v(" "),o("li",[o("code",[e._v("SignalId")]),e._v(": A ObjectID with a signal path (e.g. "),o("code",[e._v('"demo.Calc/shutdown"')]),e._v(")")])])])}),[],!1,null,null,null);t.default=a.exports}}]);